const _0x41e5c3=_0x6681;(function(_0x3691a2,_0x3dead){const _0x11a768=_0x6681,_0x75f3a7=_0x3691a2();while(!![]){try{const _0x4954a8=-parseInt(_0x11a768(0x238))/0x1*(-parseInt(_0x11a768(0x1f1))/0x2)+-parseInt(_0x11a768(0x20e))/0x3*(parseInt(_0x11a768(0x244))/0x4)+-parseInt(_0x11a768(0x1ef))/0x5+parseInt(_0x11a768(0x270))/0x6+-parseInt(_0x11a768(0x293))/0x7*(parseInt(_0x11a768(0x280))/0x8)+parseInt(_0x11a768(0x224))/0x9*(-parseInt(_0x11a768(0x222))/0xa)+parseInt(_0x11a768(0x26d))/0xb;if(_0x4954a8===_0x3dead)break;else _0x75f3a7['push'](_0x75f3a7['shift']());}catch(_0xcdf234){_0x75f3a7['push'](_0x75f3a7['shift']());}}}(_0x1441,0x52488));const apiUpload=_0x41e5c3(0x27a),apiInit=_0x41e5c3(0x26b),apiAI=_0x41e5c3(0x256),examps=document[_0x41e5c3(0x1ee)]('.example-item'),video=document['getElementById'](_0x41e5c3(0x225)),canvas=document[_0x41e5c3(0x208)](_0x41e5c3(0x271)),context=canvas['getContext']('2d'),captureButton=document['getElementById']('capture'),countdownDisplay=document['getElementById'](_0x41e5c3(0x215)),cameraContainer=document['querySelector'](_0x41e5c3(0x204)),flashOverlay=document[_0x41e5c3(0x208)]('flash'),controls=document['getElementById'](_0x41e5c3(0x23f)),controlsNext=document[_0x41e5c3(0x208)]('controls-next'),stepHome=document[_0x41e5c3(0x208)]('home'),stepRule=document[_0x41e5c3(0x208)](_0x41e5c3(0x241)),stepTwo=document[_0x41e5c3(0x208)](_0x41e5c3(0x279)),stepThree=document[_0x41e5c3(0x208)](_0x41e5c3(0x254)),stepFinal=document[_0x41e5c3(0x208)]('step-final'),screenPC=document[_0x41e5c3(0x26f)](_0x41e5c3(0x230)),gdMale=document[_0x41e5c3(0x208)](_0x41e5c3(0x205)),gdFemale=document[_0x41e5c3(0x208)](_0x41e5c3(0x1fb)),gdMaleWrapper=document['getElementById'](_0x41e5c3(0x278)),gdFemaleWrapper=document[_0x41e5c3(0x208)](_0x41e5c3(0x231)),startBtn=document[_0x41e5c3(0x208)]('startButton'),shareBtn=document[_0x41e5c3(0x208)](_0x41e5c3(0x211)),drawerShare=document[_0x41e5c3(0x208)](_0x41e5c3(0x261)),checkbox=document[_0x41e5c3(0x208)](_0x41e5c3(0x248)),closeBanner=document[_0x41e5c3(0x208)](_0x41e5c3(0x273)),loading=document[_0x41e5c3(0x208)](_0x41e5c3(0x249)),fileInput=document[_0x41e5c3(0x208)](_0x41e5c3(0x218)),modal=document[_0x41e5c3(0x208)](_0x41e5c3(0x207)),closeModal=document[_0x41e5c3(0x208)](_0x41e5c3(0x236)),image=document[_0x41e5c3(0x208)](_0x41e5c3(0x24a)),cropBtn=document[_0x41e5c3(0x208)]('cropBtn'),croppedResult=document[_0x41e5c3(0x208)](_0x41e5c3(0x28c));let cropper,globalData={},finalCanvas,gender='',isChoose;const lazyLoadInstance=new LazyLoad({'elements_selector':_0x41e5c3(0x26a),'callback_loaded':_0x1b8454=>{const _0x1f5d1d=_0x41e5c3;_0x1b8454[_0x1f5d1d(0x264)][_0x1f5d1d(0x1f3)]('blur');}});function isDesktop(){const _0x56f246=_0x41e5c3,_0x1b3ff1=navigator[_0x56f246(0x277)][_0x56f246(0x22c)](),_0x9fa5ba=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i['test'](_0x1b3ff1);return!_0x9fa5ba;}if(isDesktop())stepHome[_0x41e5c3(0x21c)][_0x41e5c3(0x259)]='none',screenPC[_0x41e5c3(0x21c)][_0x41e5c3(0x259)]=_0x41e5c3(0x27f),Swal[_0x41e5c3(0x22e)]({'title':_0x41e5c3(0x252),'text':'Vui\x20lòng\x20quét\x20sử\x20dụng\x20điện\x20thoại\x20để\x20quét\x20QR','icon':_0x41e5c3(0x20b),'showConfirmButton':![],'didOpen':()=>{},'customClass':{'htmlContainer':_0x41e5c3(0x21e),'confirmButton':_0x41e5c3(0x21f)},'allowEnterKey':![],'showConfirmButton':![],'showCloseButton':![]});else{}function getCookie(_0x206f7b){const _0x23d205=_0x41e5c3,_0x298338=';\x20'+document['cookie'],_0x4bb5b2=_0x298338[_0x23d205(0x21d)](';\x20'+_0x206f7b+'=');if(_0x4bb5b2['length']===0x2)return _0x4bb5b2['pop']()[_0x23d205(0x21d)](';')[_0x23d205(0x28e)]();return null;}function setCookie(_0x4ea26f,_0x47d2c2){const _0x560bd7=_0x41e5c3;document['cookie']=_0x4ea26f+'='+_0x47d2c2+_0x560bd7(0x250);}function _0x1441(){const _0x46bf47=['classList','setCropBoxData','onload','srcObject','createObjectURL','Không\x20truy\x20cập\x20được\x20webcam:','.lazy','https://game.advietnam.vn/app/api/sql/Public_Return_Json','Bạn\x20chưa\x20chọn\x20giới\x20tính!\x20Vui\x20lòng\x20quay\x20lại!','9655459OmLLJJ','.overlay-lds-ring','querySelector','1859652FtLHsB','canvas','then','closeBannerBtn','opacity','Face_Swap','toggle','userAgent','gender-wrapper-male','step-two','https://game.advietnam.vn/app/api/sql/Authorized_Return_Json','transform','play','target','getUserMedia','block','1448824GQXbLF','Procedure','height','videoWidth','back2Btn','getCropBoxData','length','showToast','linear-gradient(to\x20right,\x20#00b09b,\x20#96c93d)','createAi','find','https://game.advietnam.vn/images-ai/','croppedResult','4rem','shift','replace','mediaDevices','nextStepMaleTwo','shareFbBtn','14UBhBzq','files','scaleX(1)','gamer','overlay-banner','querySelectorAll','969825tEmWTH','captureAgain','6RrJPwi','getContainerData','remove','error','getContext','flex','female','image/png','parse','Sao\x20chép\x20thành\x20công!','gender-female','from','addEventListener','catch','high','Tạo\x20ảnh\x20thất\x20bại!\x20Vui\x20lòng\x20thử\x20lại','destroy','data:image/png;base64,','Empty\x20response','.camera-container','gender-male','onloadedmetadata','modal','getElementById','downloadBtn','append','info','add','disabled','6Uoxnpx','drawImage','rotate','shareBtn','frame-overlay','blob','80%','countdown','contains','innerWidth','fileInput','Tạo\x20ảnh\x20thành\x20công!','checked','Lỗi\x20khi\x20tải\x20ảnh:','style','split','swal-text-large','swal2-confirm-large','uploadImg','Objects','20tmPtgV','hor','541197pwAbVm','video','active','clearRect','flash','nextStepFemaleTwo','center','Error\x20Create\x20AI:','toLowerCase','6rem','fire','share\x20fb','.screen-pc','gender-wrapper-female','save','stringify','text','true','closeModal','top','68622pUxavE','writeText','ResponseData','Login\x20failed\x20or\x20unauthorized','POST','textContent','rule','controls','cookie','step-rule','getCroppedCanvas','log','760216TnOPNU','status','share\x20zalo','imageAi','cbx-46','overlay-loading','image','videoHeight','selected','male','linear-gradient(to\x20right,rgb(255,\x2040,\x2040),rgb(255,\x2074,\x2074))','click',';\x20path=/','src','Thông\x20báo!','change','step-three','getComputedStyle','https://game.advietnam.vn/app/api/ai/Authorized_Ai_Image','Bearer\x20','1.2rem','display','back3Btn','forEach','move','getItem','width','none','=;\x20expires=Thu,\x2001\x20Jan\x201970\x2000:00:00\x20UTC;\x20path=/','drawerShare','Parameters','clipboard'];_0x1441=function(){return _0x46bf47;};return _0x1441();}function deleteCookie(_0x3279eb){const _0x3de8b2=_0x41e5c3;document[_0x3de8b2(0x240)]=_0x3279eb+_0x3de8b2(0x260);}function getToastStyle(){const _0x330a7b=_0x41e5c3;return window[_0x330a7b(0x217)]>0x834&&window['innerHeight']>0xbb8?{'fontSize':_0x330a7b(0x22d),'padding':_0x330a7b(0x28d),'maxWidth':_0x330a7b(0x214),'textAlign':_0x330a7b(0x22a)}:{'fontSize':_0x330a7b(0x258),'padding':'1rem','maxWidth':'80%','textAlign':'center'};}gdMale[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x37b008=_0x41e5c3;gdFemale[_0x37b008(0x264)][_0x37b008(0x1f3)]('selected'),gdMale[_0x37b008(0x264)][_0x37b008(0x20c)](_0x37b008(0x24c)),gender=_0x37b008(0x24d);}),gdFemale[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x2c19aa=_0x41e5c3;gdFemale[_0x2c19aa(0x264)][_0x2c19aa(0x20c)](_0x2c19aa(0x24c)),gdMale['classList']['remove'](_0x2c19aa(0x24c)),gender=_0x2c19aa(0x1f7);}),checkbox['addEventListener']('change',function(){const _0x7cc2ff=_0x41e5c3;this[_0x7cc2ff(0x21a)]&&(gender?(stepRule['style'][_0x7cc2ff(0x259)]=_0x7cc2ff(0x25f),stepHome[_0x7cc2ff(0x21c)][_0x7cc2ff(0x259)]=_0x7cc2ff(0x1f6),document[_0x7cc2ff(0x26f)]('.overlay-lds-ring')['style']['display']=_0x7cc2ff(0x1f6),setTimeout(()=>{const _0x46bf8b=_0x7cc2ff;stepHome[_0x46bf8b(0x21c)][_0x46bf8b(0x259)]=_0x46bf8b(0x25f),stepTwo[_0x46bf8b(0x21c)]['display']=_0x46bf8b(0x1f6),document[_0x46bf8b(0x26f)]('.overlay-lds-ring')[_0x46bf8b(0x21c)][_0x46bf8b(0x259)]=_0x46bf8b(0x25f),setCookie('rule',_0x46bf8b(0x235));},0x3e8),gender===_0x7cc2ff(0x24d)?(gdMaleWrapper[_0x7cc2ff(0x21c)][_0x7cc2ff(0x259)]='block',gdFemaleWrapper[_0x7cc2ff(0x21c)][_0x7cc2ff(0x259)]=_0x7cc2ff(0x25f)):(gdFemaleWrapper['style'][_0x7cc2ff(0x259)]=_0x7cc2ff(0x27f),gdMaleWrapper[_0x7cc2ff(0x21c)][_0x7cc2ff(0x259)]=_0x7cc2ff(0x25f))):(Toastify({'text':_0x7cc2ff(0x26c),'duration':0x3e8,'close':![],'gravity':_0x7cc2ff(0x237),'position':_0x7cc2ff(0x22a),'backgroundColor':_0x7cc2ff(0x24e),'style':getToastStyle()})['showToast'](),this[_0x7cc2ff(0x21a)]=![]));}),document[_0x41e5c3(0x208)]('ruleBtn')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),_0x14a192=>{const _0x284bc6=_0x41e5c3;_0x14a192['stopPropagation'](),_0x14a192['preventDefault'](),stepHome[_0x284bc6(0x21c)][_0x284bc6(0x259)]=_0x284bc6(0x25f),stepRule[_0x284bc6(0x21c)][_0x284bc6(0x259)]=_0x284bc6(0x1f6);}),startBtn[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x1bd998=_0x41e5c3;gender?(checkbox[_0x1bd998(0x21a)]=!![],stepRule[_0x1bd998(0x21c)][_0x1bd998(0x259)]='none',stepHome[_0x1bd998(0x21c)][_0x1bd998(0x259)]=_0x1bd998(0x1f6),document['querySelector'](_0x1bd998(0x26e))[_0x1bd998(0x21c)][_0x1bd998(0x259)]='flex',setTimeout(()=>{const _0x1ad3b2=_0x1bd998;stepHome[_0x1ad3b2(0x21c)][_0x1ad3b2(0x259)]=_0x1ad3b2(0x25f),stepTwo[_0x1ad3b2(0x21c)][_0x1ad3b2(0x259)]=_0x1ad3b2(0x1f6),document['querySelector']('.overlay-lds-ring')[_0x1ad3b2(0x21c)]['display']=_0x1ad3b2(0x25f),setCookie(_0x1ad3b2(0x23e),_0x1ad3b2(0x235));},0x3e8),gender===_0x1bd998(0x24d)?(gdMaleWrapper[_0x1bd998(0x21c)]['display']=_0x1bd998(0x27f),gdFemaleWrapper[_0x1bd998(0x21c)][_0x1bd998(0x259)]=_0x1bd998(0x25f)):(gdFemaleWrapper[_0x1bd998(0x21c)]['display']=_0x1bd998(0x27f),gdMaleWrapper[_0x1bd998(0x21c)][_0x1bd998(0x259)]=_0x1bd998(0x25f))):(Toastify({'text':_0x1bd998(0x26c),'duration':0x3e8,'close':![],'gravity':_0x1bd998(0x237),'position':_0x1bd998(0x22a),'backgroundColor':'linear-gradient(to\x20right,rgb(255,\x2040,\x2040),rgb(255,\x2074,\x2074))','style':getToastStyle()})[_0x1bd998(0x287)](),stepRule['style'][_0x1bd998(0x259)]=_0x1bd998(0x25f),stepHome[_0x1bd998(0x21c)][_0x1bd998(0x259)]='flex');}),examps[_0x41e5c3(0x25b)](_0x5e5d8a=>{const _0x39ee81=_0x41e5c3;_0x5e5d8a[_0x39ee81(0x1fd)](_0x39ee81(0x24f),()=>{const _0xe6f74e=_0x39ee81;examps['forEach'](_0x46a3ae=>_0x46a3ae[_0xe6f74e(0x264)][_0xe6f74e(0x1f3)]('active')),_0x5e5d8a[_0xe6f74e(0x264)][_0xe6f74e(0x20c)](_0xe6f74e(0x226));});}),document[_0x41e5c3(0x208)](_0x41e5c3(0x284))[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x2f311b=_0x41e5c3;stepHome[_0x2f311b(0x21c)][_0x2f311b(0x259)]=_0x2f311b(0x1f6),stepTwo['style']['display']=_0x2f311b(0x25f),gdMaleWrapper[_0x2f311b(0x21c)][_0x2f311b(0x259)]=_0x2f311b(0x25f),gdFemaleWrapper[_0x2f311b(0x21c)][_0x2f311b(0x259)]=_0x2f311b(0x25f),checkbox[_0x2f311b(0x21a)]=![];}),document[_0x41e5c3(0x208)]('back1Btn')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x55a1a0=_0x41e5c3;stepHome[_0x55a1a0(0x21c)][_0x55a1a0(0x259)]=_0x55a1a0(0x1f6),stepTwo[_0x55a1a0(0x21c)]['display']=_0x55a1a0(0x25f),stepRule[_0x55a1a0(0x21c)][_0x55a1a0(0x259)]=_0x55a1a0(0x25f),gdMaleWrapper[_0x55a1a0(0x21c)][_0x55a1a0(0x259)]=_0x55a1a0(0x25f),gdFemaleWrapper[_0x55a1a0(0x21c)][_0x55a1a0(0x259)]='none',checkbox[_0x55a1a0(0x21a)]=![];}),document[_0x41e5c3(0x208)](_0x41e5c3(0x291))['addEventListener'](_0x41e5c3(0x24f),()=>{const _0x53d5d8=_0x41e5c3,_0x9928d8=Array[_0x53d5d8(0x1fc)](examps)[_0x53d5d8(0x28a)](_0x4f9012=>_0x4f9012[_0x53d5d8(0x264)][_0x53d5d8(0x216)](_0x53d5d8(0x226)));isChoose=_0x9928d8['id'],stepTwo[_0x53d5d8(0x21c)][_0x53d5d8(0x259)]=_0x53d5d8(0x25f),stepThree[_0x53d5d8(0x21c)]['display']='flex';}),document['getElementById'](_0x41e5c3(0x229))[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x11ee57=_0x41e5c3,_0x26f204=Array['from'](examps)[_0x11ee57(0x28a)](_0x528fec=>_0x528fec[_0x11ee57(0x264)]['contains'](_0x11ee57(0x226)));isChoose=_0x26f204['id'],stepTwo[_0x11ee57(0x21c)]['display']=_0x11ee57(0x25f),stepThree['style']['display']=_0x11ee57(0x1f6);});async function startFaceDetection(){const _0x38640d=_0x41e5c3,_0x9c6fd3=document[_0x38640d(0x208)]('video'),_0x37c716=document[_0x38640d(0x208)](_0x38640d(0x212)),_0x21983b=_0x37c716[_0x38640d(0x1f5)]('2d'),_0x27399b=document[_0x38640d(0x208)](_0x38640d(0x245)),_0x212b58=document['querySelector']('.wait-camera');navigator[_0x38640d(0x290)][_0x38640d(0x27e)]({'video':{}})['then'](_0x359f81=>{const _0xe7305d=_0x38640d;_0x9c6fd3[_0xe7305d(0x21c)][_0xe7305d(0x274)]='1',_0x212b58[_0xe7305d(0x21c)]['display']=_0xe7305d(0x25f),_0x9c6fd3[_0xe7305d(0x267)]=_0x359f81,_0x9c6fd3[_0xe7305d(0x206)]=()=>{const _0x3474b9=_0xe7305d;_0x9c6fd3[_0x3474b9(0x27c)](),_0x37c716[_0x3474b9(0x25e)]=_0x9c6fd3[_0x3474b9(0x283)],_0x37c716[_0x3474b9(0x282)]=_0x9c6fd3[_0x3474b9(0x24b)];},captureButton[_0xe7305d(0x20d)]=![];})[_0x38640d(0x1fe)](_0x190565=>{const _0x58f8bb=_0x38640d;console[_0x58f8bb(0x1f4)](_0x58f8bb(0x269),_0x190565),_0x27399b[_0x58f8bb(0x23d)]='Không\x20truy\x20cập\x20được\x20webcam.';});}startFaceDetection(),captureButton[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),function(){const _0x4f9caf=_0x41e5c3;captureButton['disabled']=!![];let _0x199cc2=0x3;countdownDisplay[_0x4f9caf(0x21c)][_0x4f9caf(0x259)]=_0x4f9caf(0x1f6),countdownDisplay[_0x4f9caf(0x23d)]=_0x199cc2,captureButton['disabled']=!![];const _0x25aa9d=setInterval(()=>{const _0x3ff01a=_0x4f9caf;_0x199cc2--,_0x199cc2>0x0?countdownDisplay[_0x3ff01a(0x23d)]=_0x199cc2:(clearInterval(_0x25aa9d),countdownDisplay['style']['display']='none',flashOverlay[_0x3ff01a(0x264)][_0x3ff01a(0x20c)](_0x3ff01a(0x228)),setTimeout(()=>{const _0x26317d=_0x3ff01a;flashOverlay['classList'][_0x26317d(0x1f3)](_0x26317d(0x228));const _0x3a8874=video['videoWidth'],_0x2985e8=video[_0x26317d(0x24b)],_0x25a9e2=canvas[_0x26317d(0x25e)]/canvas[_0x26317d(0x282)];let _0x3e7c74,_0x1b7059,_0x5b4c79,_0x5f4e1d;_0x3a8874/_0x2985e8>_0x25a9e2?(_0x1b7059=_0x2985e8,_0x3e7c74=_0x1b7059*_0x25a9e2,_0x5b4c79=(_0x3a8874-_0x3e7c74)/0x2,_0x5f4e1d=0x0):(_0x3e7c74=_0x3a8874,_0x1b7059=_0x3e7c74/_0x25a9e2,_0x5b4c79=0x0,_0x5f4e1d=(_0x2985e8-_0x1b7059)/0x2);context[_0x26317d(0x227)](0x0,0x0,canvas[_0x26317d(0x25e)],canvas['height']),context[_0x26317d(0x232)](),context['translate'](canvas[_0x26317d(0x25e)]/0x2,canvas[_0x26317d(0x282)]/0x2);localStorage[_0x26317d(0x25d)](_0x26317d(0x210))==_0x26317d(0x223)&&context[_0x26317d(0x210)](rotationAngle*Math['PI']/0xb4);context[_0x26317d(0x20f)](video,_0x5b4c79,_0x5f4e1d,_0x3e7c74,_0x1b7059,-canvas[_0x26317d(0x25e)]/0x2,-canvas[_0x26317d(0x282)]/0x2,canvas[_0x26317d(0x25e)],canvas['height']),context['restore']();const _0x24dc33=canvas['toDataURL'](_0x26317d(0x1f8));capAI=_0x24dc33[_0x26317d(0x28f)](_0x26317d(0x202),''),canvas[_0x26317d(0x251)]=_0x24dc33,canvas['style'][_0x26317d(0x259)]=_0x26317d(0x27f),cameraContainer[_0x26317d(0x21c)][_0x26317d(0x259)]=_0x26317d(0x25f),captureButton[_0x26317d(0x20d)]=![],controls[_0x26317d(0x21c)][_0x26317d(0x259)]='none',controlsNext[_0x26317d(0x21c)][_0x26317d(0x259)]='flex',document[_0x26317d(0x208)](_0x26317d(0x25a))['style'][_0x26317d(0x259)]=_0x26317d(0x25f),document[_0x26317d(0x208)]('captureAgain')[_0x26317d(0x21c)]['display']='block';},0x1f4));},0x3e8);}),document[_0x41e5c3(0x208)](_0x41e5c3(0x220))['addEventListener'](_0x41e5c3(0x24f),()=>{const _0x90cad0=_0x41e5c3;fileInput[_0x90cad0(0x24f)]();}),fileInput[_0x41e5c3(0x1fd)](_0x41e5c3(0x253),()=>{const _0x318e2a=_0x41e5c3;if(fileInput['files']&&fileInput[_0x318e2a(0x294)][_0x318e2a(0x286)]>0x0){const _0x2636ba=fileInput[_0x318e2a(0x294)][0x0],_0x4adfd9=URL[_0x318e2a(0x268)](_0x2636ba);image[_0x318e2a(0x251)]=_0x4adfd9,modal['style'][_0x318e2a(0x259)]='flex',cropper&&cropper['destroy'](),image[_0x318e2a(0x266)]=()=>{const _0x255501=_0x318e2a;cropper=new Cropper(image,{'aspectRatio':0.692/0x1,'viewMode':0x1,'autoCropArea':0x1,'dragMode':_0x255501(0x25c),'cropBoxResizable':!![],'cropBoxMovable':!![],'ready'(){const _0xcc01e1=_0x255501,_0x773dd6=cropper[_0xcc01e1(0x285)](),_0x1f9721=cropper[_0xcc01e1(0x1f2)](),_0x477f86=_0x1f9721[_0xcc01e1(0x25e)]/0x34a;cropper[_0xcc01e1(0x265)]({'width':210.5*_0x477f86,'height':0x130*_0x477f86});}});};}}),closeModal['addEventListener']('click',()=>{const _0x10db67=_0x41e5c3;modal[_0x10db67(0x21c)][_0x10db67(0x259)]=_0x10db67(0x25f),cropper&&(cropper[_0x10db67(0x201)](),cropper=null),image[_0x10db67(0x251)]='',resetFileInput();}),cropBtn[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x2c3749=_0x41e5c3;if(!cropper)return;loading[_0x2c3749(0x21c)][_0x2c3749(0x259)]=_0x2c3749(0x1f6);const _0x4ac8a8=cropper[_0x2c3749(0x242)]({'width':0x34a,'height':0x4c0,'imageSmoothingEnabled':!![],'imageSmoothingQuality':_0x2c3749(0x1ff)}),_0x1fc646=document[_0x2c3749(0x208)](_0x2c3749(0x271)),_0x590ca8=_0x1fc646['getContext']('2d');_0x1fc646[_0x2c3749(0x25e)]=0x34a,_0x1fc646[_0x2c3749(0x282)]=0x4c0,_0x590ca8[_0x2c3749(0x227)](0x0,0x0,_0x1fc646[_0x2c3749(0x25e)],_0x1fc646[_0x2c3749(0x282)]),_0x590ca8[_0x2c3749(0x20f)](_0x4ac8a8,0x0,0x0,0x34a,0x4c0);const _0x2b6512=_0x1fc646['toDataURL']('image/png');canvas[_0x2c3749(0x251)]=_0x2b6512,canvas[_0x2c3749(0x21c)][_0x2c3749(0x27b)]=_0x2c3749(0x1eb),canvas['style'][_0x2c3749(0x259)]=_0x2c3749(0x27f),cameraContainer['style'][_0x2c3749(0x259)]='none',captureButton[_0x2c3749(0x20d)]=![],controls[_0x2c3749(0x21c)][_0x2c3749(0x259)]=_0x2c3749(0x25f),controlsNext[_0x2c3749(0x21c)][_0x2c3749(0x259)]=_0x2c3749(0x1f6),document['getElementById'](_0x2c3749(0x25a))[_0x2c3749(0x21c)][_0x2c3749(0x259)]='none',document['getElementById'](_0x2c3749(0x1f0))[_0x2c3749(0x21c)][_0x2c3749(0x259)]=_0x2c3749(0x27f),loading[_0x2c3749(0x21c)][_0x2c3749(0x259)]=_0x2c3749(0x25f),modal['style'][_0x2c3749(0x259)]=_0x2c3749(0x25f),cropper[_0x2c3749(0x201)](),cropper=null,image[_0x2c3749(0x251)]='',resetFileInput();});function resetFileInput(){fileInput['value']='';}document[_0x41e5c3(0x208)]('captureAgain')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0xb38e05=_0x41e5c3;cameraContainer[_0xb38e05(0x21c)][_0xb38e05(0x259)]='flex',controls[_0xb38e05(0x21c)][_0xb38e05(0x259)]=_0xb38e05(0x27f),controlsNext[_0xb38e05(0x21c)][_0xb38e05(0x259)]=_0xb38e05(0x25f),canvas[_0xb38e05(0x251)]='',canvas[_0xb38e05(0x21c)]['display']=_0xb38e05(0x25f),document[_0xb38e05(0x208)](_0xb38e05(0x25a))[_0xb38e05(0x21c)]['display']=_0xb38e05(0x27f),document[_0xb38e05(0x208)](_0xb38e05(0x1f0))[_0xb38e05(0x21c)][_0xb38e05(0x259)]=_0xb38e05(0x25f),canvas[_0xb38e05(0x21c)][_0xb38e05(0x27b)]='scaleX(-1)';}),document[_0x41e5c3(0x208)]('back3Btn')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x408c00=_0x41e5c3;stepThree[_0x408c00(0x21c)][_0x408c00(0x259)]=_0x408c00(0x25f),stepTwo['style']['display']=_0x408c00(0x1f6);if(gender===_0x408c00(0x24d))gdMaleWrapper[_0x408c00(0x21c)][_0x408c00(0x259)]=_0x408c00(0x27f),gdFemaleWrapper[_0x408c00(0x21c)][_0x408c00(0x259)]='none';else gender===_0x408c00(0x1f7)&&(gdMaleWrapper[_0x408c00(0x21c)][_0x408c00(0x259)]=_0x408c00(0x25f),gdFemaleWrapper[_0x408c00(0x21c)][_0x408c00(0x259)]=_0x408c00(0x27f));}),document['getElementById'](_0x41e5c3(0x289))[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x4d5560=_0x41e5c3;loading[_0x4d5560(0x21c)][_0x4d5560(0x259)]=_0x4d5560(0x1f6),setTimeout(()=>{const _0x4a37c9=_0x4d5560;loading[_0x4a37c9(0x21c)][_0x4a37c9(0x259)]=_0x4a37c9(0x25f),Toastify({'text':_0x4a37c9(0x219),'duration':0x3e8,'close':![],'gravity':_0x4a37c9(0x237),'position':_0x4a37c9(0x22a),'backgroundColor':_0x4a37c9(0x288),'style':getToastStyle()})[_0x4a37c9(0x287)](),stepThree[_0x4a37c9(0x21c)][_0x4a37c9(0x259)]='none',stepFinal[_0x4a37c9(0x21c)][_0x4a37c9(0x259)]=_0x4a37c9(0x1f6);},0x3e8);});function _0x6681(_0x37afd2,_0x1a18da){const _0x144147=_0x1441();return _0x6681=function(_0x668121,_0x439477){_0x668121=_0x668121-0x1eb;let _0x3b137c=_0x144147[_0x668121];return _0x3b137c;},_0x6681(_0x37afd2,_0x1a18da);}function uploadFaceSwap(_0x51a7e0){return new Promise((_0x4da198,_0x39aadb)=>{const _0x1fe4fa=_0x6681,_0x23ec08=new FormData();_0x23ec08[_0x1fe4fa(0x20a)](_0x1fe4fa(0x281),_0x1fe4fa(0x275)),_0x23ec08['append'](_0x1fe4fa(0x262),JSON[_0x1fe4fa(0x233)]({'GamerCode':getCookie(_0x1fe4fa(0x1ec)),'SourceImageUrl':localStorage[_0x1fe4fa(0x25d)]('img'),'TargetImageUrl':_0x51a7e0}));const _0x119516=getCookie('bearer');fetch(apiAI,{'method':_0x1fe4fa(0x23c),'headers':{'Authorization':_0x1fe4fa(0x257)+_0x119516},'body':_0x23ec08})[_0x1fe4fa(0x272)](_0x1eea83=>{const _0x16f54a=_0x1fe4fa;if(_0x1eea83['ok'])return _0x1eea83[_0x16f54a(0x234)]();else throw new Error(_0x16f54a(0x23b));})[_0x1fe4fa(0x272)](_0x45cc11=>{const _0x3f243c=_0x1fe4fa,_0x48c730=JSON[_0x3f243c(0x1f9)](_0x45cc11)[_0x3f243c(0x221)][0x0][_0x3f243c(0x23a)];!_0x48c730?(loading[_0x3f243c(0x21c)]['display']=_0x3f243c(0x25f),Toastify({'text':'Tạo\x20ảnh\x20thất\x20bại!\x20Vui\x20lòng\x20thử\x20lại','duration':0x3e8,'close':![],'gravity':_0x3f243c(0x237),'position':_0x3f243c(0x22a),'backgroundColor':'linear-gradient(to\x20right,rgb(255,\x2040,\x2040),rgb(255,\x2074,\x2074))','style':getToastStyle()})['showToast'](),cameraContainer[_0x3f243c(0x21c)]['display']=_0x3f243c(0x1f6),controls[_0x3f243c(0x21c)][_0x3f243c(0x259)]=_0x3f243c(0x27f),controlsNext[_0x3f243c(0x21c)][_0x3f243c(0x259)]=_0x3f243c(0x25f),canvas[_0x3f243c(0x251)]='',canvas[_0x3f243c(0x21c)][_0x3f243c(0x259)]='none',document[_0x3f243c(0x208)](_0x3f243c(0x25a))[_0x3f243c(0x21c)][_0x3f243c(0x259)]=_0x3f243c(0x27f),document[_0x3f243c(0x208)](_0x3f243c(0x1f0))[_0x3f243c(0x21c)][_0x3f243c(0x259)]=_0x3f243c(0x25f),_0x39aadb(_0x3f243c(0x203))):(document[_0x3f243c(0x208)](_0x3f243c(0x247))[_0x3f243c(0x251)]=_0x3f243c(0x28b)+_0x48c730,loading['style'][_0x3f243c(0x259)]=_0x3f243c(0x25f),Toastify({'text':_0x3f243c(0x219),'duration':0x3e8,'close':![],'gravity':_0x3f243c(0x237),'position':_0x3f243c(0x22a),'backgroundColor':_0x3f243c(0x288),'style':getToastStyle()})['showToast'](),stepThree[_0x3f243c(0x21c)][_0x3f243c(0x259)]='none',stepFinal['style'][_0x3f243c(0x259)]=_0x3f243c(0x1f6),_0x4da198());})[_0x1fe4fa(0x1fe)](_0x104381=>{const _0x863afc=_0x1fe4fa;console['error'](_0x863afc(0x22b),_0x104381),loading[_0x863afc(0x21c)][_0x863afc(0x259)]=_0x863afc(0x25f),cameraContainer[_0x863afc(0x21c)]['display']=_0x863afc(0x1f6),controls[_0x863afc(0x21c)][_0x863afc(0x259)]=_0x863afc(0x27f),controlsNext[_0x863afc(0x21c)][_0x863afc(0x259)]=_0x863afc(0x25f),canvas['src']='',canvas[_0x863afc(0x21c)][_0x863afc(0x259)]=_0x863afc(0x25f),document[_0x863afc(0x208)](_0x863afc(0x25a))['style'][_0x863afc(0x259)]='block',document[_0x863afc(0x208)]('captureAgain')[_0x863afc(0x21c)]['display']=_0x863afc(0x25f),Toastify({'text':_0x863afc(0x200),'duration':0x3e8,'close':![],'gravity':_0x863afc(0x237),'position':_0x863afc(0x22a),'backgroundColor':'linear-gradient(to\x20right,rgb(255,\x2040,\x2040),rgb(255,\x2074,\x2074))','style':getToastStyle()})['showToast'](),_0x39aadb(_0x104381);});});}document[_0x41e5c3(0x208)]('shareBtn')['addEventListener'](_0x41e5c3(0x24f),()=>{const _0x1859af=_0x41e5c3;drawerShare['classList'][_0x1859af(0x276)]('active'),setTimeout(()=>{const _0x23cce0=_0x1859af;stepFinal&&window[_0x23cce0(0x255)](stepFinal)[_0x23cce0(0x259)]!==_0x23cce0(0x25f)&&fadeIn(document[_0x23cce0(0x208)]('overlay-banner'),0xc8);},0x3e8);}),document[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),_0x20c861=>{const _0x4145d2=_0x41e5c3,_0x1d784f=drawerShare[_0x4145d2(0x216)](_0x20c861[_0x4145d2(0x27d)]),_0x180ecc=shareBtn[_0x4145d2(0x216)](_0x20c861[_0x4145d2(0x27d)]);!_0x1d784f&&!_0x180ecc&&!document[_0x4145d2(0x208)](_0x4145d2(0x1ed))&&drawerShare[_0x4145d2(0x264)][_0x4145d2(0x1f3)](_0x4145d2(0x226));}),document[_0x41e5c3(0x208)]('copyBtn')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x5706f9=_0x41e5c3,_0x4b35ca=document[_0x5706f9(0x208)]('imageAi')['src'];navigator[_0x5706f9(0x263)][_0x5706f9(0x239)](_0x4b35ca)[_0x5706f9(0x272)](()=>Toastify({'text':_0x5706f9(0x1fa),'duration':0x3e8,'close':![],'gravity':_0x5706f9(0x237),'position':_0x5706f9(0x22a),'backgroundColor':'linear-gradient(to\x20right,\x20#00b09b,\x20#96c93d)','style':getToastStyle()})[_0x5706f9(0x287)]())['catch'](_0x356501=>Toastify({'text':'Sao\x20chép\x20thất\x20bại!','duration':0x3e8,'close':![],'gravity':_0x5706f9(0x237),'position':_0x5706f9(0x22a),'backgroundColor':_0x5706f9(0x24e),'style':getToastStyle()})[_0x5706f9(0x287)]());}),document[_0x41e5c3(0x208)](_0x41e5c3(0x292))[_0x41e5c3(0x1fd)]('click',()=>{const _0x26069b=_0x41e5c3;console[_0x26069b(0x243)](_0x26069b(0x22f));}),document[_0x41e5c3(0x208)]('shareZlBtn')[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x215087=_0x41e5c3;console[_0x215087(0x243)](_0x215087(0x246));}),document[_0x41e5c3(0x208)](_0x41e5c3(0x209))[_0x41e5c3(0x1fd)](_0x41e5c3(0x24f),()=>{const _0x4014c7=_0x41e5c3,_0x436225=document['getElementById']('imageAi');fetch(_0x436225[_0x4014c7(0x251)])[_0x4014c7(0x272)](_0x4f7314=>_0x4f7314[_0x4014c7(0x213)]())[_0x4014c7(0x272)](_0x3bc707=>{saveAs(_0x3bc707,'Final.jpg'),setTimeout(()=>{const _0x53ac8a=_0x6681;fadeIn(document[_0x53ac8a(0x208)](_0x53ac8a(0x1ed)),0xc8);},0x7d0);})[_0x4014c7(0x1fe)](_0x4f3ef6=>{const _0x25fa7e=_0x4014c7;console[_0x25fa7e(0x1f4)](_0x25fa7e(0x21b),_0x4f3ef6);});}),closeBanner['addEventListener'](_0x41e5c3(0x24f),()=>{const _0x2da8ce=_0x41e5c3;fadeOut(document[_0x2da8ce(0x208)](_0x2da8ce(0x1ed)),0xc8);});function returnHome(){const _0x52ee96=_0x41e5c3;stepHome[_0x52ee96(0x21c)][_0x52ee96(0x259)]='flex',stepTwo[_0x52ee96(0x21c)][_0x52ee96(0x259)]=_0x52ee96(0x25f),stepThree[_0x52ee96(0x21c)][_0x52ee96(0x259)]=_0x52ee96(0x25f),stepFinal[_0x52ee96(0x21c)]['display']=_0x52ee96(0x25f),gdMaleWrapper['style'][_0x52ee96(0x259)]=_0x52ee96(0x25f),gdFemaleWrapper[_0x52ee96(0x21c)][_0x52ee96(0x259)]=_0x52ee96(0x25f),cameraContainer['style'][_0x52ee96(0x259)]=_0x52ee96(0x1f6),controls[_0x52ee96(0x21c)]['display']=_0x52ee96(0x27f),controlsNext[_0x52ee96(0x21c)][_0x52ee96(0x259)]=_0x52ee96(0x25f),canvas[_0x52ee96(0x251)]='',canvas['style']['display']=_0x52ee96(0x25f),document['getElementById'](_0x52ee96(0x25a))[_0x52ee96(0x21c)]['display']=_0x52ee96(0x27f),document[_0x52ee96(0x208)](_0x52ee96(0x1f0))[_0x52ee96(0x21c)][_0x52ee96(0x259)]='none',drawerShare[_0x52ee96(0x264)][_0x52ee96(0x1f3)](_0x52ee96(0x226)),examps['forEach'](_0x631a14=>{const _0x393a41=_0x52ee96;examps[_0x393a41(0x25b)](_0x56cb6c=>_0x56cb6c[_0x393a41(0x264)][_0x393a41(0x1f3)](_0x393a41(0x226)));}),examps[0x0][_0x52ee96(0x264)]['add'](_0x52ee96(0x226)),examps[0x5][_0x52ee96(0x264)][_0x52ee96(0x20c)](_0x52ee96(0x226)),gdFemale[_0x52ee96(0x264)][_0x52ee96(0x1f3)](_0x52ee96(0x24c)),gdMale[_0x52ee96(0x264)][_0x52ee96(0x1f3)]('selected'),gender='';}function fadeOut(_0x56528d,_0x5f08b4){let _0x4d0732=0x1;const _0x1dc9cb=0x32,_0x10a68b=_0x1dc9cb/_0x5f08b4,_0x447303=setInterval(()=>{const _0x2c47e1=_0x6681;_0x4d0732-=_0x10a68b,_0x4d0732<=0x0&&(_0x4d0732=0x0,clearInterval(_0x447303),_0x56528d[_0x2c47e1(0x21c)][_0x2c47e1(0x259)]=_0x2c47e1(0x25f)),_0x56528d[_0x2c47e1(0x21c)][_0x2c47e1(0x274)]=_0x4d0732;},_0x1dc9cb);}function fadeIn(_0x94dce6,_0x12e6ef){const _0x1f03fd=_0x41e5c3;let _0x193777=0x0;const _0x30e588=0x32,_0x2218c9=_0x30e588/_0x12e6ef;_0x94dce6[_0x1f03fd(0x21c)][_0x1f03fd(0x274)]=_0x193777,_0x94dce6[_0x1f03fd(0x21c)]['display']=_0x1f03fd(0x1f6);const _0x503e5d=setInterval(()=>{const _0x145575=_0x1f03fd;_0x193777+=_0x2218c9,_0x193777>=0x1&&(_0x193777=0x1,clearInterval(_0x503e5d)),_0x94dce6[_0x145575(0x21c)][_0x145575(0x274)]=_0x193777;},_0x30e588);}